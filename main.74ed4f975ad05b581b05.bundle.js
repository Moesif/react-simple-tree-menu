(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1049:function(module,exports,__webpack_require__){var map={"./index.stories.js":1050};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1049},1050:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(2),__webpack_require__(14),__webpack_require__(24),__webpack_require__(28),__webpack_require__(68),__webpack_require__(13),__webpack_require__(32),__webpack_require__(15),__webpack_require__(31),__webpack_require__(55),__webpack_require__(41),__webpack_require__(43),__webpack_require__(3),__webpack_require__(92),__webpack_require__(46),__webpack_require__(75),__webpack_require__(5),__webpack_require__(95),__webpack_require__(12),__webpack_require__(1051),__webpack_require__(51),__webpack_require__(42),__webpack_require__(22),__webpack_require__(264),__webpack_require__(19);var react__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_25__),_storybook_react__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(192),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(53),_storybook_addon_info__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(488),reactstrap__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(1549),reactstrap__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(1550),reactstrap__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(1551),_src_index__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(54),_assets_closedIcon_png__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(507),_assets_closedIcon_png__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(_assets_closedIcon_png__WEBPACK_IMPORTED_MODULE_33__),_assets_openedIcon_png__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(508),_assets_openedIcon_png__WEBPACK_IMPORTED_MODULE_34___default=__webpack_require__.n(_assets_openedIcon_png__WEBPACK_IMPORTED_MODULE_34__);__webpack_require__(1538),__webpack_require__(1540);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var iconStyle={verticalAlign:"text-bottom"},openedIcon=react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("img",{src:_assets_openedIcon_png__WEBPACK_IMPORTED_MODULE_34___default.a,alt:"-",style:iconStyle}),closedIcon=react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("img",{src:_assets_closedIcon_png__WEBPACK_IMPORTED_MODULE_33___default.a,alt:"+",style:iconStyle}),ToggleIcon=function(_ref){var on=_ref.on;return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("span",{style:{marginRight:8}},on?"-":"+")};ToggleIcon.displayName="ToggleIcon";var ListItem=function(_ref2){var _ref2$level=_ref2.level,level=void 0===_ref2$level?0:_ref2$level,hasNodes=_ref2.hasNodes,isOpen=_ref2.isOpen,label=_ref2.label,toggleNode=(_ref2.searchTerm,_ref2.openNodes,_ref2.toggleNode),focused=(_ref2.matchSearch,_ref2.focused),props=_objectWithoutProperties(_ref2,["level","hasNodes","isOpen","label","searchTerm","openNodes","toggleNode","matchSearch","focused"]);return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_29__.a,_extends({},props,{style:{paddingLeft:24+16*level,cursor:"pointer",boxShadow:focused?"0px 0px 5px 0px #222":"none",zIndex:focused?999:"unset",position:"relative"}}),hasNodes&&react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("div",{style:{display:"inline-block"},onClick:function onClick(e){hasNodes&&toggleNode&&toggleNode(),e.stopPropagation()}},react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(ToggleIcon,{on:isOpen})),label)};ListItem.displayName="ListItem";var dataInArray=[{key:"mammal",label:"Mammal",url:"https://www.google.com/search?q=mammal",nodes:[{key:"canidae",label:"Canidae",url:"https://www.google.com/search?q=canidae",nodes:[{key:"dog",label:"Dog",url:"https://www.google.com/search?q=dog",nodes:[]},{key:"fox",label:"Fox",url:"https://www.google.com/search?q=fox",nodes:[]},{key:"wolf",label:"Wolf",url:"https://www.google.com/search?q=wolf",nodes:[]}]}]},{key:"reptile",label:"Reptile",url:"https://www.google.com/search?q=reptile",nodes:[{key:"squamata",label:"Squamata",url:"https://www.google.com/search?q=squamata",nodes:[{key:"lizard",label:"Lizard",url:"https://www.google.com/search?q=lizard"},{key:"snake",label:"Snake",url:"https://www.google.com/search?q=snake"},{key:"gekko",label:"Gekko",url:"https://www.google.com/search?q=gekko"}]}]}],translations={Mammal:"MamÃ­fero",Canidae:"Canidae",Dog:"Perro",Fox:"Zorro",Wolf:"Lobo",Reptile:"Reptil",Squamata:"Squamata",Lizard:"Lagartija",Snake:"Serpiente",Gekko:"Gekko"};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_26__.storiesOf)("TreeMenu",module).addDecorator(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_28__.withInfo).add("default usage",(function(){return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_32__.b,{data:dataInArray,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_27__.action)("on click node")})})).add("without search",(function(){return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_32__.b,{data:dataInArray,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_27__.action)("on click node"),hasSearch:!1})})).add("has initial states",(function(){return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_32__.b,{data:dataInArray,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_27__.action)("on click node"),initialOpenNodes:["reptile","reptile/squamata","reptile/squamata/lizard"],initialActiveKey:"reptile/squamata"})})).add("set initial state when data is updated",(function(){var TreeMenuWrapper=function(_React$Component){_inherits(TreeMenuWrapper,_React$Component);var _super=_createSuper(TreeMenuWrapper);function TreeMenuWrapper(){var _this;_classCallCheck(this,TreeMenuWrapper);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_super.call.apply(_super,[this].concat(args))),"state",{data:dataInArray}),_defineProperty(_assertThisInitialized(_this),"updateData",(function(){return _this.setState((function(_ref3){var data=_ref3.data;return{data:[].concat(_toConsumableArray(data),[{key:"foo",label:"Foo",url:"https://www.google.com/search?q=foo"}])}}))})),_this}return _createClass(TreeMenuWrapper,[{key:"render",value:function render(){var _this2=this,data=this.state.data;return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_25___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("div",{style:{padding:"12px",background:"black"}},react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("button",{style:{margin:"4px"},onClick:function onClick(){return _this2.updateData()}},"Add Foo")),react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_32__.b,{data:data,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_27__.action)("on click node"),initialOpenNodes:["reptile","reptile/squamata","reptile/squamata/lizard"],initialActiveKey:"reptile/squamata",resetOpenNodesOnDataUpdate:!0}))}}]),TreeMenuWrapper}(react__WEBPACK_IMPORTED_MODULE_25___default.a.Component);return TreeMenuWrapper.displayName="TreeMenuWrapper",react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(TreeMenuWrapper,null)})).add("control TreeMenu only from its parent",(function(){var TreeMenuWrapper=function(_React$Component2){_inherits(TreeMenuWrapper,_React$Component2);var _super2=_createSuper(TreeMenuWrapper);function TreeMenuWrapper(){var _this3;_classCallCheck(this,TreeMenuWrapper);for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return _defineProperty(_assertThisInitialized(_this3=_super2.call.apply(_super2,[this].concat(args))),"state",{openNodes:[]}),_this3}return _createClass(TreeMenuWrapper,[{key:"render",value:function render(){var _this4=this;return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_25___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("div",{style:{padding:"12px",background:"black"}},react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("button",{style:{margin:"4px"},onClick:function onClick(){return _this4.setState({openNodes:["reptile"],activeKey:"reptile"})}},"Open Reptile"),react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("button",{style:{margin:"4px"},onClick:function onClick(){return _this4.setState({openNodes:["mammal"],activeKey:"mammal"})}},"Open Mammal"),react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("button",{style:{margin:"4px"},onClick:function onClick(){return _this4.setState({openNodes:["mammal","mammal/canidae"],activeKey:"mammal/canidae/dog"})}},"Highlight Dog")),react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_32__.b,{data:dataInArray,activeKey:this.state.activeKey,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_27__.action)("on click node"),openNodes:this.state.openNodes}))}}]),TreeMenuWrapper}(react__WEBPACK_IMPORTED_MODULE_25___default.a.Component);return TreeMenuWrapper.displayName="TreeMenuWrapper",react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(TreeMenuWrapper,null)})).add("control TreeMenu from both its parent and openNodes",(function(){var TreeMenuWrapper=function(_React$Component3){_inherits(TreeMenuWrapper,_React$Component3);var _super3=_createSuper(TreeMenuWrapper);function TreeMenuWrapper(){var _this5;_classCallCheck(this,TreeMenuWrapper);for(var _len5=arguments.length,args=Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return _defineProperty(_assertThisInitialized(_this5=_super3.call.apply(_super3,[this].concat(args))),"state",{openNodes:[]}),_defineProperty(_assertThisInitialized(_this5),"childRef",react__WEBPACK_IMPORTED_MODULE_25___default.a.createRef()),_this5}return _createClass(TreeMenuWrapper,[{key:"render",value:function render(){var _this6=this;return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_25___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("div",{style:{padding:"12px",background:"black"}},react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("button",{style:{margin:"4px"},onClick:function onClick(){return _this6.childRef.current.resetOpenNodes(["reptile"],"reptile")}},"Open Reptile from Ref"),react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("button",{style:{margin:"4px"},onClick:function onClick(){return _this6.childRef.current.resetOpenNodes(["mammal","mammal/canidae"],"mammal/canidae")}},"Open/Highlight Canidae"),react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("button",{style:{margin:"4px"},onClick:function onClick(){return _this6.childRef.current.resetOpenNodes(["reptile","reptile/squamata","reptile/squamata/lizard"],"reptile/squamata/lizard","reptile/squamata")}},"Open/Highlight Lizard, focus Squamata")),react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_32__.b,{data:dataInArray,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_27__.action)("on click node"),ref:this.childRef}))}}]),TreeMenuWrapper}(react__WEBPACK_IMPORTED_MODULE_25___default.a.Component);return TreeMenuWrapper.displayName="TreeMenuWrapper",react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(TreeMenuWrapper,null)})).add("translate to Spanish",(function(){return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_32__.b,{data:dataInArray,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_27__.action)("on click node"),locale:function locale(_ref4){var label=_ref4.label;return console.log("label: "+label),console.log(translations[label]),translations[label]}})})).add("apply other UI framework, e.g. bootstrap",(function(){return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_32__.b,{data:dataInArray,debounceTime:500,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_27__.action)("on click node")},(function(_ref5){var search=_ref5.search,items=_ref5.items;return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_25___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_30__.a,{onChange:function onChange(e){return search(e.target.value)},placeholder:"Type and search"}),react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_31__.a,null,items.map((function(_ref6){_ref6.reset;var props=_objectWithoutProperties(_ref6,["reset"]);return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(ListItem,props)}))))}))})).add("reset openNodes",(function(){return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_32__.b,{data:dataInArray,debounceTime:125,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_27__.action)("on click node")},(function(_ref7){var search=_ref7.search,items=_ref7.items,resetOpenNodes=_ref7.resetOpenNodes;return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_25___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("button",{onClick:function onClick(){resetOpenNodes(["reptile"])}},"Reset"),Object(_src_index__WEBPACK_IMPORTED_MODULE_32__.c)({search:search,items:items}))}))})).add("Opened/Closed Icon",(function(){return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_32__.b,{data:dataInArray,onClickItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_27__.action)("on click node")},(function(_ref8){var items=_ref8.items;return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement("ul",{className:"tree-item-group"},items.map((function(_ref9){var key=_ref9.key,props=_objectWithoutProperties(_ref9,["key"]);return react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_32__.a,_extends({key:key},props,{openedIcon:openedIcon,closedIcon:closedIcon}))})))}))}))}.call(this,__webpack_require__(395)(module))},1054:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":450,"./nestedObjectAssign.js":450};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1054},1540:function(module,exports,__webpack_require__){var content=__webpack_require__(1541);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(1543)(content,options);content.locals&&(module.exports=content.locals)},1541:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(1542)(!1)).push([module.i,".rstm-toggle-icon{display:inline-block}.rstm-toggle-icon-symbol{width:2rem;height:2rem;text-align:center;line-height:2rem}.rstm-tree-item-group{list-style-type:none;padding-left:0;border-top:1px solid #ccc;text-align:left;width:100%}.rstm-tree-item{padding:0.75rem 1rem;cursor:pointer;color:#333;background:none;border-bottom:1px solid #ccc;box-shadow:none;z-index:unset;position:relative}.rstm-tree-item--active{color:white;background:#179ed3;border-bottom:none}.rstm-tree-item--focused{box-shadow:0 0 5px 0 #222;z-index:999}.rstm-search{padding:1rem 1.5rem;border:none;width:100%}\n",""])},507:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/closedIcon.5b821d5d.png"},508:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/openedIcon.04677c7a.png"},512:function(module,exports,__webpack_require__){__webpack_require__(513),__webpack_require__(861),module.exports=__webpack_require__(862)},54:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return renderProps_defaultChildren})),__webpack_require__.d(__webpack_exports__,"a",(function(){return renderProps_ItemComponent}));var objectWithoutProperties=__webpack_require__(100),objectSpread2=__webpack_require__(33),toConsumableArray=__webpack_require__(84),classCallCheck=__webpack_require__(502),createClass=__webpack_require__(503),assertThisInitialized=__webpack_require__(83),inherits=__webpack_require__(511),createSuper=__webpack_require__(509),defineProperty=__webpack_require__(70),react=__webpack_require__(0),react_default=__webpack_require__.n(react),tiny_debounce=__webpack_require__(504),tiny_debounce_default=__webpack_require__.n(tiny_debounce),slicedToArray=__webpack_require__(510),lib=__webpack_require__(505),lib_default=__webpack_require__.n(lib),src=__webpack_require__(506),walk_validateData=function validateData(data){return!!data&&!lib_default()(data)},getValidatedData=function getValidatedData(data){return walk_validateData(data)?data:[]},walk_walk=function walk(_ref){var data=_ref.data,props=Object(objectWithoutProperties.a)(_ref,["data"]),validatedData=getValidatedData(data),propsWithDefaultValues=Object(objectSpread2.a)({parent:"",level:0},props);return Array.isArray(validatedData)?function handleArray(dataAsArray){return dataAsArray.reduce((function(all,node,index){var branchProps=Object(objectSpread2.a)({node:node,index:index,nodeName:node.key},propsWithDefaultValues),branch=walk_generateBranch(branchProps);return[].concat(Object(toConsumableArray.a)(all),Object(toConsumableArray.a)(branch))}),[])}(validatedData):function handleObject(dataAsObject){return Object.entries(dataAsObject).sort((function(a,b){return a[1].index-b[1].index})).reduce((function(all,_ref2){var _ref3=Object(slicedToArray.a)(_ref2,2),nodeName=_ref3[0],node=_ref3[1],branchProps=Object(objectSpread2.a)({node:node,nodeName:nodeName},propsWithDefaultValues),branch=walk_generateBranch(branchProps);return[].concat(Object(toConsumableArray.a)(all),Object(toConsumableArray.a)(branch))}),[])}(validatedData)},defaultMatchSearch=function defaultMatchSearch(_ref4){var label=_ref4.label,searchTerm=_ref4.searchTerm,processString=function processString(text){return text.trim().toLowerCase()};return processString(label).includes(processString(searchTerm))},defaultLocale=function defaultLocale(_ref5){return _ref5.label},walk_generateBranch=function generateBranch(_ref6){var node=_ref6.node,nodeName=_ref6.nodeName,_ref6$matchSearch=_ref6.matchSearch,matchSearch=void 0===_ref6$matchSearch?defaultMatchSearch:_ref6$matchSearch,_ref6$locale=_ref6.locale,locale=void 0===_ref6$locale?defaultLocale:_ref6$locale,props=Object(objectWithoutProperties.a)(_ref6,["node","nodeName","matchSearch","locale"]),parent=props.parent,level=props.level,openNodes=props.openNodes,searchTerm=props.searchTerm,nodes=node.nodes,_node$label=node.label,rawLabel=void 0===_node$label?"unknown":_node$label,nodeProps=Object(objectWithoutProperties.a)(node,["nodes","label"]),key=[parent,nodeName].filter((function(x){return x})).join("/"),hasNodes=walk_validateData(nodes),isOpen=hasNodes&&(openNodes.includes(key)||!!searchTerm),label=locale(Object(objectSpread2.a)({label:rawLabel},nodeProps)),isVisible=!searchTerm||matchSearch(Object(objectSpread2.a)({label:label,searchTerm:searchTerm},nodeProps)),currentItem=Object(objectSpread2.a)(Object(objectSpread2.a)(Object(objectSpread2.a)({},props),nodeProps),{},{label:label,hasNodes:hasNodes,isOpen:isOpen,key:key}),data=getValidatedData(nodes),nextLevelItems=isOpen?walk_walk(Object(objectSpread2.a)(Object(objectSpread2.a)({data:data,locale:locale,matchSearch:matchSearch},props),{},{parent:key,level:level+1})):[];return isVisible?[currentItem].concat(Object(toConsumableArray.a)(nextLevelItems)):nextLevelItems},fastWalk=__webpack_require__.n(src)()(walk_walk),slowWalk=walk_walk,classnames=__webpack_require__(99),classnames_default=__webpack_require__.n(classnames),renderProps_ToggleIcon=function ToggleIcon(_ref){var on=_ref.on,openedIcon=_ref.openedIcon,closedIcon=_ref.closedIcon;return react_default.a.createElement("div",{role:"img","aria-label":"Toggle",className:"rstm-toggle-icon-symbol"},on?openedIcon:closedIcon)},renderProps_ItemComponent=function ItemComponent(_ref2){var _ref2$hasNodes=_ref2.hasNodes,hasNodes=void 0!==_ref2$hasNodes&&_ref2$hasNodes,_ref2$isOpen=_ref2.isOpen,isOpen=void 0!==_ref2$isOpen&&_ref2$isOpen,_ref2$level=_ref2.level,level=void 0===_ref2$level?0:_ref2$level,onClick=_ref2.onClick,toggleNode=_ref2.toggleNode,active=_ref2.active,focused=_ref2.focused,_ref2$openedIcon=_ref2.openedIcon,openedIcon=void 0===_ref2$openedIcon?"-":_ref2$openedIcon,_ref2$closedIcon=_ref2.closedIcon,closedIcon=void 0===_ref2$closedIcon?"+":_ref2$closedIcon,_ref2$label=_ref2.label,label=void 0===_ref2$label?"unknown":_ref2$label,_ref2$style=_ref2.style,style=void 0===_ref2$style?{}:_ref2$style;return react_default.a.createElement("li",{className:classnames_default()("rstm-tree-item","rstm-tree-item-level".concat(level),{"rstm-tree-item--active":active},{"rstm-tree-item--focused":focused}),style:Object(objectSpread2.a)({paddingLeft:"".concat(.75+2*(hasNodes?0:1)+1.75*level,"rem")},style),role:"button","aria-pressed":active,onClick:onClick},hasNodes&&react_default.a.createElement("div",{className:"rstm-toggle-icon",onClick:function onClick(e){hasNodes&&toggleNode&&toggleNode(),e.stopPropagation()}},react_default.a.createElement(renderProps_ToggleIcon,{on:isOpen,openedIcon:openedIcon,closedIcon:closedIcon})),label)},renderProps_defaultChildren=function defaultChildren(_ref3){var search=_ref3.search,items=_ref3.items;return react_default.a.createElement(react_default.a.Fragment,null,search&&react_default.a.createElement("input",{className:"rstm-search","aria-label":"Type and search",type:"search",placeholder:"Type and search",onChange:function onSearch(e){var value=e.target.value;search&&search(value)}}),react_default.a.createElement("ul",{className:"rstm-tree-item-group"},items.map((function(_ref4){var key=_ref4.key,props=Object(objectWithoutProperties.a)(_ref4,["key"]);return react_default.a.createElement(renderProps_ItemComponent,Object.assign({key:key},props))}))))},src_KeyDown=function KeyDown(_ref){var children=_ref.children,up=_ref.up,down=_ref.down,left=_ref.left,right=_ref.right,enter=_ref.enter;return react_default.a.createElement("div",{tabIndex:0,onKeyDown:function onKeyDown(e){switch(e.key){case"ArrowUp":up();break;case"ArrowDown":down();break;case"ArrowLeft":left();break;case"ArrowRight":right();break;case"Enter":enter()}}},children)},TreeMenu_TreeMenu=function(_React$Component){Object(inherits.a)(TreeMenu,_React$Component);var _super=Object(createSuper.a)(TreeMenu);function TreeMenu(){var _this;Object(classCallCheck.a)(this,TreeMenu);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),Object(defineProperty.a)(Object(assertThisInitialized.a)(_this),"state",{openNodes:_this.props.initialOpenNodes||[],searchTerm:"",activeKey:_this.props.initialActiveKey||"",focusKey:_this.props.initialFocusKey||""}),Object(defineProperty.a)(Object(assertThisInitialized.a)(_this),"resetOpenNodes",(function(newOpenNodes,activeKey,focusKey){var initialOpenNodes=_this.props.initialOpenNodes,openNodes=Array.isArray(newOpenNodes)&&newOpenNodes||initialOpenNodes||[];_this.setState({openNodes:openNodes,searchTerm:"",activeKey:activeKey||"",focusKey:focusKey||activeKey||""})})),Object(defineProperty.a)(Object(assertThisInitialized.a)(_this),"search",(function(value){var debounceTime=_this.props.debounceTime;tiny_debounce_default()((function(searchTerm){return _this.setState({searchTerm:searchTerm})}),debounceTime)(value)})),Object(defineProperty.a)(Object(assertThisInitialized.a)(_this),"toggleNode",(function(node){if(!_this.props.openNodes){var openNodes=_this.state.openNodes,newOpenNodes=openNodes.includes(node)?openNodes.filter((function(openNode){return openNode!==node})):[].concat(Object(toConsumableArray.a)(openNodes),[node]);_this.setState({openNodes:newOpenNodes})}})),Object(defineProperty.a)(Object(assertThisInitialized.a)(_this),"generateItems",(function(){var _this$props=_this.props,data=_this$props.data,onClickItem=_this$props.onClickItem,locale=_this$props.locale,matchSearch=_this$props.matchSearch,searchTerm=_this.state.searchTerm,openNodes=_this.props.openNodes||_this.state.openNodes,activeKey=_this.props.activeKey||_this.state.activeKey,focusKey=_this.props.focusKey||_this.state.focusKey,defaultSearch=_this.props.cacheSearch?fastWalk:slowWalk;return(data?defaultSearch({data:data,openNodes:openNodes,searchTerm:searchTerm,locale:locale,matchSearch:matchSearch}):[]).map((function(item){var focused=item.key===focusKey,active=item.key===activeKey,toggleNode=item.hasNodes?function(){return _this.toggleNode(item.key)}:void 0;return Object(objectSpread2.a)(Object(objectSpread2.a)({},item),{},{focused:focused,active:active,onClick:function onClick(){var newActiveKey=_this.props.activeKey||item.key;_this.setState({activeKey:newActiveKey,focusKey:newActiveKey}),onClickItem&&onClickItem(item)},toggleNode:toggleNode})}))})),Object(defineProperty.a)(Object(assertThisInitialized.a)(_this),"getKeyDownProps",(function(items){var onClickItem=_this.props.onClickItem,_this$state=_this.state,focusKey=_this$state.focusKey,activeKey=_this$state.activeKey,focusIndex=(_this$state.searchTerm,items.findIndex((function(item){return item.key===(focusKey||activeKey)}))),getFocusKey=function getFocusKey(item){var keyArray=item.key.split("/");return keyArray.length>1?keyArray.slice(0,keyArray.length-1).join("/"):item.key};return{up:function up(){_this.setState((function(_ref){var focusKey=_ref.focusKey;return{focusKey:focusIndex>0?items[focusIndex-1].key:focusKey}}))},down:function down(){_this.setState((function(_ref2){var focusKey=_ref2.focusKey;return{focusKey:focusIndex<items.length-1?items[focusIndex+1].key:focusKey}}))},left:function left(){var item=items[focusIndex];item&&_this.setState((function(_ref3){var openNodes=_ref3.openNodes,rest=Object(objectWithoutProperties.a)(_ref3,["openNodes"]),newOpenNodes=openNodes.filter((function(node){return node!==item.key}));return item.isOpen?Object(objectSpread2.a)(Object(objectSpread2.a)({},rest),{},{openNodes:newOpenNodes,focusKey:item.key}):Object(objectSpread2.a)(Object(objectSpread2.a)({},rest),{},{focusKey:getFocusKey(item)})}))},right:function right(){var _items$focusIndex=items[focusIndex],hasNodes=_items$focusIndex.hasNodes,key=_items$focusIndex.key;hasNodes&&_this.setState((function(_ref4){var openNodes=_ref4.openNodes;return{openNodes:[].concat(Object(toConsumableArray.a)(openNodes),[key])}}))},enter:function enter(){_this.setState((function(_ref5){return{activeKey:_ref5.focusKey}})),onClickItem&&onClickItem(items[focusIndex])}}})),_this}return Object(createClass.a)(TreeMenu,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this$props2=this.props,data=_this$props2.data,initialOpenNodes=_this$props2.initialOpenNodes,resetOpenNodesOnDataUpdate=_this$props2.resetOpenNodesOnDataUpdate;prevProps.data!==data&&resetOpenNodesOnDataUpdate&&initialOpenNodes&&this.setState({openNodes:initialOpenNodes})}},{key:"render",value:function render(){var _this$props3=this.props,children=_this$props3.children,hasSearch=_this$props3.hasSearch,disableKeyboard=_this$props3.disableKeyboard,searchTerm=this.state.searchTerm,search=this.search,items=this.generateItems(),resetOpenNodes=this.resetOpenNodes,render=children||renderProps_defaultChildren,renderProps=hasSearch?{search:search,resetOpenNodes:resetOpenNodes,items:items,searchTerm:searchTerm}:{items:items,resetOpenNodes:resetOpenNodes};return disableKeyboard?render(renderProps):react_default.a.createElement(src_KeyDown,this.getKeyDownProps(items),render(renderProps))}}]),TreeMenu}(react_default.a.Component);Object(defineProperty.a)(TreeMenu_TreeMenu,"defaultProps",{data:{},onClickItem:function defaultOnClick(props){return console.log(props)},debounceTime:125,children:renderProps_defaultChildren,hasSearch:!0,cacheSearch:!0,resetOpenNodesOnDataUpdate:!1,disableKeyboard:!1});var src_TreeMenu=TreeMenu_TreeMenu;__webpack_exports__.b=src_TreeMenu},556:function(module,exports){},862:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(36),__webpack_require__(15),__webpack_require__(12),__webpack_require__(37),__webpack_require__(19);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(192),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(53),req=__webpack_require__(1049);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)((function loadStories(){req.keys().forEach((function(filename){return req(filename)}))}),module),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_6__.configureActions)({depth:100,limit:20})}.call(this,__webpack_require__(395)(module))}},[[512,1,2]]]);
//# sourceMappingURL=main.74ed4f975ad05b581b05.bundle.js.map